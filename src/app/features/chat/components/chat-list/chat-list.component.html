<div class="chat-list-wrapper" [ngClass]="{'mobile': isMobile, 'tablet': isTablet, 'desktop': isDesktop}">
    <header>
        <h2>Chats</h2>
        <div class="actions">
            <button (click)="sync()" [disabled]="loading" title="Sync contacts"><i class="fa fa-sync"></i> Sync</button>
            <button (click)="openAddContactDialog()" title="Add a new contact"><i class="fa fa-user-plus"></i> Add
                Contact</button>
        </div>
    </header>
    <p class="info">View and manage your chats and groups.</p>
    <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>
    <div class="chat-list" *ngIf="!loading; else loadingSpinner">
        <h3>Contacts</h3>
        <ul>
            <li *ngFor="let contact of contacts" title="Chat with {{ contact.name }}">
                <span>{{ contact.name }}</span>
                <span>{{ contact.phoneNumber }}</span>
            </li>
        </ul>
        <h3>Groups</h3>
        <ul>
            <li *ngFor="let group of groups" title="View group {{ group.name }}">
                <span>{{ group.name }}</span>
            </li>
        </ul>
    </div>
    <ng-template #loadingSpinner>
        <div class="spinner"><i class="fa fa-spinner fa-spin"></i> Loading chats...</div>
    </ng-template>
</div>